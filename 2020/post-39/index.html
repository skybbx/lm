<!doctype html><html lang=zh-cn><meta charset=utf-8><meta name=renderer content="webkit"><meta name=force-rendering content="webkit"><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><link rel=preconnect href=https://cdn.qylao.com><link rel=preconnect href=https://cdn.staticfile.org><meta http-equiv=x-dns-prefetch-control content="on"><link rel=dns-prefetch href=//cdn.qylao.com><link rel=dns-prefetch href=//cdn.staticfile.org><link rel=preload href=https://cdn.qylao.com/wp-content/uploads/font/notoserifsc-regular-webfont.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=https://cdn.qylao.com/wp-content/uploads/font/merriweather-regular-webfont.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=https://cdn.qylao.com/wp-content/uploads/font/notoserifsc-regular-webfont.woff as=font type=font/woff crossorigin><link rel=preload href=https://cdn.qylao.com/wp-content/uploads/font/merriweather-regular-webfont.woff as=font type=font/woff crossorigin><title>Windows 10上安装Linux子系统</title><meta name=description content="一个简单的博客，一个平凡的博主，用最扑实的话记录最真实的自己！"><meta name=author content="老麦"><link rel=stylesheet href=https://iamlm.com/scss/laomai.min.4d57986f717cb8413846b17b80e76423862918c4541c0f8165822fa70daecb8f.css integrity="sha256-TVeYb3F8uEE4RrF7gOdkI4YpGMRUHA+BZYIvpw2uy48=" rel="preload stylesheet" as=style><link rel=stylesheet href=https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css><body style=background:url(https://cdn.qylao.com/wp-content/uploads/2022/04/sea-gc05b59c74_1920.jpg);background-size:cover;background-attachment:fixed><div class=container><div class=main-container><div class=tabs-main><input type=checkbox id=menu-btn>
<label for=menu-btn class=menu-icon><i class="fa fa-bars" aria-hidden=true></i></label><div class=main-header><div class=logo><img src=https://cdn.qylao.com/wp-content/uploads/2021/04/apple-touch-icon.png alt=老麦></div><div class=logo-con><p>一个简单的博客，一个平凡的博主，用最扑实的话记录最真实的自己！</div><div class=line1></div></div><div class=menu><ul class=tabs><li class=menu-item><a href=/>首页</a><li class=menu-item><a href=/archives/>文章</a><li class=menu-item><a href=/bb/>闲言</a><li class=menu-item><a href=/about/>关于</a><li class=menu-item><a href=/links/>友链</a></ul></div><div class=main-footer><p>&copy;2022老麦</p><span>已记录<span>121531</span>个字</span></div></div><div class=main-content><div class=content-header><h1>Windows 10上安装Linux子系统</h1></div><div class=line2><div class=post-time><time datetime=2020-12-10T14:06:23>2020-12-10</time></div></div><div class="content ahover"><p>这段时间一直在学习一些Linux系统的基础知识，感觉还不错。虽然工作上是不可能用到这方面的知识，纯属个人爱好而已，也当作是给自己扩展一下技能。<p>话说B站这方面的学习课程还真够完善的，由浅入深的视频课程都能完整的找到，真好！当然啦，理论和实操要相结合才能记得牢固，所以今天做个小笔记，在Windows 10上安装一个Linux子系统。<h3 id=安装>安装</h3><p>先安装一个工具——「Windows Terminal」。有关Windows终端程序的相关说明请自行找度娘，安装这玩意主要是能很方便地操作我们接下来安装的Linux子系统。<p><p><img src=/2020/post-39/50aeefc065019_hu466c227e356977af0b4f819b182642bd_48776_800x0_resize_q75_h2_lanczos_2.webp loading=lazy alt><p>在Microsoft Store上直接安装就好了，也可以去<a href=https://github.com/microsoft/terminal target=_blank rel=noopener>github</a>上下载自行安装。<p>接下来到Windows设置里修改两个地方<p><p><img src=/2020/post-39/e15a63bbf3ed9_hu4f7be7fd1e4f95097ef4c513789c6424_23620_800x0_resize_q75_h2_lanczos_2.webp loading=lazy alt><ol><li>打开『更新和安全』，开启『开发人员模式』。</ol><p><p><img src=/2020/post-39/3b3d00e16ddec_hue96a50f939624bf7a4a30288026878e4_38468_800x0_resize_q75_h2_lanczos_2.webp loading=lazy alt><ol start=2><li>打开『应用』，点击右上角的『程序和功能』</ol><p><p><img src=/2020/post-39/234431eca940c_huba0398b6bc4604625da083b30a2a1368_40570_800x0_resize_q75_h2_lanczos_2.webp loading=lazy alt><p>点击『启用或关闭Windows功能』<p><p><img src=/2020/post-39/55f13396483fc_hu4fe0590ca0cbc306dd757c9d3a68dd2c_61158_800x0_resize_q75_h2_lanczos_2.webp loading=lazy alt><p>找到『适用于Linux的Windows子系统』，勾选后确定。<p><p><img src=/2020/post-39/8cc3b77f8cf7e_hufba791a157549d820f5facf2c8563695_21588_800x0_resize_q75_h2_lanczos_2.webp loading=lazy alt><p>这时会提示重启系统，重启完成后就可以安装Linux系统了。<p>以安装Debian为例，打开Microsoft Store搜索Debian，获取安装。<p><p><img src=/2020/post-39/e1417bb1e333d_hu20359d18fe0e8eddece1ac08239c789f_35884_800x0_resize_q75_h2_lanczos_2.webp loading=lazy alt><p>因为我的电脑C盘磁盘空间容量很小，所以这里我选择了另外一种方法安装，将子系统安装在D盘。<p>输入网址<a href=https://docs.microsoft.com/en-us/windows/wsl/install-manual target=_blank rel=noopener>https://docs.microsoft.com/en-us/windows/wsl/install-manual</a>，下载我们需要的系统。<p><p><img src=/2020/post-39/c3586ef033c68_hu130c14f7d39d9269dfa504bf24e4b2a2_85914_800x0_resize_q75_h2_lanczos_2.webp loading=lazy alt><p>下载完成后我们会得到一个后缀名为.Appx的文件，这时我们将文件的后缀修改成.zip并将文件移动到你要保存Debian系统的文件夹，将文件解压到当前目录。<p><p><img src=/2020/post-39/8ce53bb036926_hu1b07665238c8f975dd39810bb290f9f6_41176_800x0_resize_q75_h2_lanczos_2.webp loading=lazy alt><p>打开debian.exe安装。<p><p><img src=/2020/post-39/5a664b506fac9_hud8198582fd5ad73b00d2dbc69d0db730_19232_800x0_resize_q75_h2_lanczos_2.webp loading=lazy alt><p>设置好用户名和密码，这样子系统已经安装完成了。这时看一下我们刚才解压文件的目录就会多出一个rootfs文件夹，这个rootfs文件夹就是保存Debian子系统的目录了。<p>重新打开Windows Terminal，点一下地址栏上的展开小箭头，就会多出一个选项Debian，一键就能进入子系统，十分方便。<p><p><img src=/2020/post-39/ac1c4821efbb1_hudb51be93e9a1caf9906efb91d083aa02_15680_800x0_resize_q75_h2_lanczos_2.webp loading=lazy alt><h3 id=思考>思考</h3><p>这样子使用了两天后，发现比在虚拟机上安装和使用都简单得多，而且使用起来也特别顺手，比如说，我在Windows上在子系统的laomai文件夹里新建一个hugo的目录，在终端上就可以立马查询得到。还有，复制的命令也如此，直接就能在终端上进行粘贴。<p><p><img src=/2020/post-39/273907b9e103d_hu7c6c32175bfbe971e9da7cbcd1662f08_9202_800x0_resize_q75_h2_lanczos_2.webp loading=lazy alt><h4 id=以下是与子系统相关的几个命令>以下是与子系统相关的几个命令</h4><p>命令在Windows上使用CMD或者PowerShell运行。<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span><span style=color:#6272a4># 查看安装的子系统列表</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span>wsl.exe --list
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span><span><span style=color:#6272a4># 关闭子系统 wsl.exe --terminate &lt;子系统名称&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span>wsl.exe --terminate Debian
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span><span style=color:#6272a4># 导出子系统 wsl --export &lt;子系统名称&gt; &lt;保存的路径&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span><span>wsl --export Debian D:\Mai\Debian.tar
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span><span style=color:#6272a4># 导入子系统 wsl.exe --import &lt;新的子系统名称&gt; &lt;新的子系统路径&gt; &lt;要导入子系统的tar压缩文件路径及名称&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span><span>wsl.exe --import newDebian D:\Mai\newDebian D:\Mai\Debian.tar
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span><span><span style=color:#6272a4># 运行刚刚导入的子系统 wsl --distribution &lt;新的子系统名称&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span><span>wsl --distribution newDebian
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16</span><span><span style=color:#6272a4># 注销/删除子系统 wsl.exe --unregister &lt;子系统名称&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17</span><span>wsl.exe --unregister Debian
</span></span></code></pre></div></div><div class="content-tags ahover"><ul><li><a href=/tags/windows>#Windows</a><li><a href=/tags/linux>#Linux</a><li><a href=/tags/debian>#Debian</a></ul></div><nav class=post-nav><a class=prev href=/2020/post-40/><i class="fa fa-chevron-left" aria-hidden=true></i>
<span class="prev-text nav-default">是金子就一定会发光</span>
<span class="prev-text nav-mobile">上一篇</span></a>
<a class=next href=/2020/post-38/><span class="next-text nav-default">学习.bashrc的基础使用与相关扩展</span>
<span class="prev-text nav-mobile">下一篇</span>
<i class="fa fa-chevron-right" aria-hidden=true></i></a></nav><div class=content-footer><script src=https://unpkg.com/@waline/client@v2/dist/waline.js></script>
<link rel=stylesheet href=https://unpkg.com/@waline/client@v2/dist/waline.css><div id=waline class=waline-container></div><style>:root{--waline-font-size:1rem;--waline-theme-color:rgba(0,0,0,0.7);--waline-active-color:#202020;--waline-badge-color:rgba(0,0,0,0.9)}.wl-power{display:none}.wl-emoji{width:1rem}.wl-card .wl-badge{display:inline-block;margin-right:1em;padding:0;border:0 solid var(--waline-badge-color);border-radius:0;color:var(--waline-badge-color);font-size:var(--waline-badge-font-size)}</style><script>Waline.init({avatarCDN:"https://sdn.geekzu.org/avatar/",dark:'html[data-scheme="dark"]',el:"#waline",emoji:["https://cdn.qylao.com/emojis/weibo"],lang:"zh-cn",locale:{admin:"🖊"},placeholder:"在这里分享您的观点与想法，昵称、邮箱必填，邮件通知回复。",requiredMeta:["nick","mail"],serverURL:"https://comments.iamlm.com/",visitor:!0})</script></div></div></div></div><script src=https://cdn.staticfile.org/jquery/3.6.0/jquery.min.js></script>
<script defer src="data:application/javascript,var%20styleAuthorUrl=%60%0D%0Acolor:%20rgb(248,248,255);%0D%0Abackground-color:%20%238B8989;%0D%0Apadding:%205px%2010px;%0D%0Aborder-radius:%205px;%0D%0A%60,authorUrl=%22laomai.org%22;console.log(%60%25c$%7BauthorUrl%7D%60,styleAuthorUrl),window.loadphotoswipejs%26%26window.alert(%22You've%20loaded%20load-photoswipe.js%20twice.%20See%20https://github.com/liwenyip/hugo-easy-gallery/issues/6%22);var%20loadphotoswipejs=1;$(document).ready(function()%7Bvar%20items=%5B%5D;$(%22.post-content%20p%20%3E%20img,%20figure%22).each(function()%7Bvar%20$this=$(this),$a,$img,$src,$title,$msrc;if($this.attr(%22class%22)==%22no-photoswipe%22)return!0;if($this%5B0%5D.tagName===%22IMG%22?($src=$this%5B0%5D.src,$msrc=$this%5B0%5D.src,$title=$this%5B0%5D.alt):($a=$this.find(%22a%22),$img=$this.find(%22img%22),$src=$a.attr(%22href%22),$title=$img.attr(%22alt%22),$msrc=$img.attr(%22src%22)),$a%26%26$a.data(%22size%22))var%20$size=$a.data(%22size%22).split(%22x%22),item=%7Bsrc:$src,w:$size%5B0%5D,h:$size%5B1%5D,title:$title,msrc:$msrc%7D;else%7Bvar%20item=%7Bsrc:$src,w:800,h:600,title:$title,msrc:$msrc%7D,img=new%20Image;img.src=$src;var%20wait=setInterval(function()%7Bvar%20w=img.naturalWidth,h=img.naturalHeight;w%26%26h%26%26(clearInterval(wait),item.w=w,item.h=h)%7D,30)%7Dvar%20index=items.length;items.push(item),$this.on(%22click%22,function(event)%7Bevent.preventDefault();var%20$pswp=$(%22.pswp%22)%5B0%5D,options=%7Bindex,bgOpacity:.8,showHideOpacity:!0%7D;new%20PhotoSwipe($pswp,PhotoSwipeUI_Default,items,options).init()%7D)%7D)%7D)"></script>
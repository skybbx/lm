<!doctype html><html lang=zh-cn><meta charset=utf-8><meta name=renderer content="webkit"><meta name=force-rendering content="webkit"><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><link rel=preconnect href=https://cdn.staticfile.org><meta http-equiv=x-dns-prefetch-control content="on"><link rel=dns-prefetch href=//cdn.staticfile.org><link rel=preload href=/font/notoserifsc-regular-webfont.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/font/merriweather-regular-webfont.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/font/notoserifsc-regular-webfont.woff as=font type=font/woff crossorigin><link rel=preload href=/font/merriweather-regular-webfont.woff as=font type=font/woff crossorigin><title>Windows 10上安装Linux子系统</title><meta name=description content="一个简单的博客，一个平凡的博主，用最扑实的话记录最真实的自己！"><meta name=author content="老麦"><link rel=stylesheet href=https://iamlm.com/scss/laomai.min.a9d1ae9b3e0b44d09e2e661c8e386b4d37e14263fa4fb1c875821e46bde38059.css integrity="sha256-qdGumz4LRNCeLmYcjjhrTTfhQmP6T7HIdYIeRr3jgFk=" rel="preload stylesheet" as=style><link rel=stylesheet href=https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css><body style=background:url(https://laomai.org/wp-content/uploads/2022/04/sea-gc05b59c74_1920.jpg);background-size:cover;background-attachment:fixed><div class=container><div class=main-container><div class=tabs-main><input type=checkbox id=menu-btn>
<label for=menu-btn class=menu-icon><i class="fa fa-bars" aria-hidden=true></i></label><div class=main-header><div class=logo><img src=https://laomai.org/wp-content/uploads/2021/04/apple-touch-icon.png alt=老麦></div><div class=logo-con><p>一个简单的博客，一个平凡的博主，用最扑实的话记录最真实的自己！</div><div class=line1></div></div><div class=menu><ul class=tabs><li class=menu-item><a href=/>首页</a><li class=menu-item><a href=/archives/>文章</a><li class=menu-item><a href=/bb/>闲言</a><li class=menu-item><a href=/about/>关于</a><li class=menu-item><a href=/links/>友链</a></ul></div><div class=main-footer><p>&copy;2022老麦</div></div><div class=main-content><div class=content-header><h1>Windows 10上安装Linux子系统</h1></div><div class=line2><div class=post-time><time datetime=2020-12-10T14:06:23>2020-12-10</time></div></div><div class="content ahover"><p>这段时间一直在学习一些Linux系统的基础知识，感觉还不错。虽然工作上是不可能用到这方面的知识，纯属个人爱好而已，也当作是给自己扩展一下技能。<p>话说B站这方面的学习课程还真够完善的，由浅入深的视频课程都能完整的找到，真好！当然啦，理论和实操要相结合才能记得牢固，所以今天做个小笔记，在Windows 10上安装一个Linux子系统。<h3 id=安装>安装</h3><p>先安装一个工具——「Windows Terminal」。有关Windows终端程序的相关说明请自行找度娘，安装这玩意主要是能很方便地操作我们接下来安装的Linux子系统。<p><p><img src=50aeefc065019.webp alt><p>在Microsoft Store上直接安装就好了，也可以去<a href=https://github.com/microsoft/terminal target=_blank rel=noopener>github</a>上下载自行安装。<p>接下来到Windows设置里修改两个地方<p><p><img src=e15a63bbf3ed9.webp alt><ol><li>打开『更新和安全』，开启『开发人员模式』。</ol><p><p><img src=3b3d00e16ddec.webp alt><ol start=2><li>打开『应用』，点击右上角的『程序和功能』</ol><p><p><img src=234431eca940c.webp alt><p>点击『启用或关闭Windows功能』<p><p><img src=55f13396483fc.webp alt><p>找到『适用于Linux的Windows子系统』，勾选后确定。<p><p><img src=8cc3b77f8cf7e.webp alt><p>这时会提示重启系统，重启完成后就可以安装Linux系统了。<p>以安装Debian为例，打开Microsoft Store搜索Debian，获取安装。<p><p><img src=e1417bb1e333d.webp alt><p>因为我的电脑C盘磁盘空间容量很小，所以这里我选择了另外一种方法安装，将子系统安装在D盘。<p>输入网址<a href=https://docs.microsoft.com/en-us/windows/wsl/install-manual target=_blank rel=noopener>https://docs.microsoft.com/en-us/windows/wsl/install-manual</a>，下载我们需要的系统。<p><p><img src=c3586ef033c68.webp alt><p>下载完成后我们会得到一个后缀名为.Appx的文件，这时我们将文件的后缀修改成.zip并将文件移动到你要保存Debian系统的文件夹，将文件解压到当前目录。<p><p><img src=8ce53bb036926.webp alt><p>打开debian.exe安装。<p><p><img src=5a664b506fac9.webp alt><p>设置好用户名和密码，这样子系统已经安装完成了。这时看一下我们刚才解压文件的目录就会多出一个rootfs文件夹，这个rootfs文件夹就是保存Debian子系统的目录了。<p>重新打开Windows Terminal，点一下地址栏上的展开小箭头，就会多出一个选项Debian，一键就能进入子系统，十分方便。<p><p><img src=ac1c4821efbb1.webp alt><h3 id=思考>思考</h3><p>这样子使用了两天后，发现比在虚拟机上安装和使用都简单得多，而且使用起来也特别顺手，比如说，我在Windows上在子系统的laomai文件夹里新建一个hugo的目录，在终端上就可以立马查询得到。还有，复制的命令也如此，直接就能在终端上进行粘贴。<p><p><img src=273907b9e103d.webp alt><h4 id=以下是与子系统相关的几个命令>以下是与子系统相关的几个命令</h4><p>命令在Windows上使用CMD或者PowerShell运行。<div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span></code></pre><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span><span style=color:#75715e># 查看安装的子系统列表</span>
</span></span><span style=display:flex><span>wsl.exe --list
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 关闭子系统 wsl.exe --terminate &lt;子系统名称&gt;</span>
</span></span><span style=display:flex><span>wsl.exe --terminate Debian
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 导出子系统 wsl --export &lt;子系统名称&gt; &lt;保存的路径&gt;</span>
</span></span><span style=display:flex><span>wsl --export Debian D:\Mai\Debian.tar
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 导入子系统 wsl.exe --import &lt;新的子系统名称&gt; &lt;新的子系统路径&gt; &lt;要导入子系统的tar压缩文件路径及名称&gt;</span>
</span></span><span style=display:flex><span>wsl.exe --import newDebian D:\Mai\newDebian D:\Mai\Debian.tar
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 运行刚刚导入的子系统 wsl --distribution &lt;新的子系统名称&gt;</span>
</span></span><span style=display:flex><span>wsl --distribution newDebian
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 注销/删除子系统 wsl.exe --unregister &lt;子系统名称&gt;</span>
</span></span><span style=display:flex><span>wsl.exe --unregister Debian
</span></span></code></pre></table></div></div></div><div class="content-tags ahover"><ul><li><a href=/tags/windows>#Windows</a><li><a href=/tags/linux>#Linux</a><li><a href=/tags/debian>#Debian</a></ul></div><div class=content-footer><script src=//cdn.jsdelivr.net/npm/@waline/client></script><div id=waline class=waline-container></div><style>:root{--waline-font-size:1rem;--waline-theme-color:rgba(0,0,0,0.7);--waline-active-color:#202020;--waline-badge-color:rgba(0,0,0,0.3)}.v[data-class=v] .vcard .vhead .vnick svg{display:none}.v[data-class=v] .vpower{display:none}</style><script>new Waline({avatarCDN:"https://sdn.geekzu.org/avatar/",dark:'html[data-scheme="dark"]',el:"#waline",emoji:["https://cdn.jsdelivr.net/gh/walinejs/emojis/weibo"],lang:"zh-cn",locale:{admin:"⭐"},placeholder:"在这里分享您的观点与想法，昵称、邮箱必填，邮件通知回复。",requiredMeta:["nick","mail"],serverURL:"https://comments.iamlm.com/",visitor:!0})</script></div></div></div></div><script src=https://cdn.staticfile.org/jquery/3.6.0/jquery.min.js></script>
<script defer src=https://iamlm.com/js/laomai.min.b185718dcc7e0011e0f6e3ca17f13e9492d8ea286c14f7bad0c8a9ba0b6c64741e77b66fab6e45ea4d37c39fe5a787447eb5f0160e70b7be5996d2925768bf9a.js integrity="sha512-sYVxjcx+ABHg9uPKF/E+lJLY6ihsFPe60MipugtsZHQed7Zvq25F6k03w5/lp4dEfrXwFg5wt75ZltKSV2i/mg==" crossorigin=anonymous async></script>
<!doctype html><html lang=zh-cn><meta charset=utf-8><meta name=renderer content="webkit"><meta name=force-rendering content="webkit"><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><link rel=preconnect href=https://cdn.staticfile.org><meta http-equiv=x-dns-prefetch-control content="on"><link rel=dns-prefetch href=//cdn.staticfile.org><link rel=preload href=/font/notoserifsc-regular-webfont.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/font/merriweather-regular-webfont.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/font/notoserifsc-regular-webfont.woff as=font type=font/woff crossorigin><link rel=preload href=/font/merriweather-regular-webfont.woff as=font type=font/woff crossorigin><title>在CentOS上安装宝塔来呈现我们的博客</title><meta name=description content="一个简单的博客，一个平凡的博主，用最扑实的话记录最真实的自己！"><meta name=author content="老麦"><link rel=stylesheet href=https://iamlm.com/scss/laomai.min.b5a20acb207c8cf4fbde439dab506619de780bf7ce6f2046ccb4b3d27d24e2d1.css integrity="sha256-taIKyyB8jPT73kOdq1BmGd54C/fObyBGzLSz0n0k4tE=" rel="preload stylesheet" as=style><link rel=stylesheet href=https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css><body style=background:url(https://cdn.qylao.com/wp-content/uploads/2022/04/sea-gc05b59c74_1920.jpg);background-size:cover;background-attachment:fixed><div class=container><div class=main-container><div class=tabs-main><input type=checkbox id=menu-btn>
<label for=menu-btn class=menu-icon><i class="fa fa-bars" aria-hidden=true></i></label><div class=main-header><div class=logo><img src=https://cdn.qylao.com/wp-content/uploads/2021/04/apple-touch-icon.png alt=老麦></div><div class=logo-con><p>一个简单的博客，一个平凡的博主，用最扑实的话记录最真实的自己！</div><div class=line1></div></div><div class=menu><ul class=tabs><li class=menu-item><a href=/>首页</a><li class=menu-item><a href=/archives/>文章</a><li class=menu-item><a href=/bb/>闲言</a><li class=menu-item><a href=/about/>关于</a><li class=menu-item><a href=/links/>友链</a></ul></div><div class=main-footer><p>&copy;2022老麦</p><span>已记录<span>109904</span>个字</span></div></div><div class=main-content><div class=content-header><h1>在CentOS上安装宝塔来呈现我们的博客</h1></div><div class=line2><div class=post-time><time datetime=2020-07-11T00:35:00>2020-07-11</time></div></div><div class="content ahover"><p>我们之前已经在自己的云服务器上创建了git仓库，也在自己的电脑搭建了hexo这个博客框架。那么我们现在就说说如何绑定到我们的仓库、如何把hexo生成的静态文件推到仓库上，又如何通过域名来访问我们博客，我们一步一步来吧。<h3 id=绑定git仓库>绑定Git仓库</h3><p>首先用notepad++（这里软件选择你自己喜欢的就好，感觉都差不多，例如：PyCharm，sublime text3）打开我们建立的blog目录下**_config.yml**文件，在最后一行可以看到<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>deploy:
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>  type: <span style=color:#f1fa8c>&#39;&#39;</span>
</span></span></code></pre></div><p>我们修改为<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>deploy:
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>  type: git
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span>  repo: git@你服务器的ip:/home/blog.git
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span>  branch: master
</span></span></code></pre></div><p>type类型，因为我们用的是git，所以就填入git。repo填入我们的git仓库地址。branch默认是master，这行可有可无。要注意冒号后都有<strong>空格</strong>的哦！<h3 id=把静态文件推到git仓库>把静态文件推到Git仓库</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>hexo clean
</span></span></code></pre></div><p>清理一下缓存<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>hexo g
</span></span></code></pre></div><p>生成静态文件，这里我们可以看到blog目录下多了一个public的文件夹<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>hexo d
</span></span></code></pre></div><blockquote><p>skybb@MAI-PC MINGW64 /d/blog
$ hexo d
ERROR Deployer not found: git</blockquote><p>这里报错是因为我们还没有安装hexo-deployer-git工具<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>npm install hexo-deployer-git --save
</span></span></code></pre></div><p>安装完成后再次输入<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>hexo d
</span></span></code></pre></div><p><p><img src=2020-07-10-182302.webp alt><p>可以看到我们已经成功将静态文件推到云服务器上了。<h3 id=安装宝塔实现域名访问>安装宝塔实现域名访问</h3><p>首先通过SSH连接到我们的服务器，使用下面的命令进行安装<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>yum install -y wget <span style=color:#ff79c6>&amp;&amp;</span> wget -O install.sh http://download.bt.cn/install/install_6.0.sh <span style=color:#ff79c6>&amp;&amp;</span> sh install.sh
</span></span></code></pre></div><p><p><img src=2020-07-10-230318.webp alt><p>这里输入"y"，等待安装结束。<p><p><img src=2020-07-10-230754.webp alt><p>出现这个界面的时候就可以使用宝塔的面板了。<p>浏览器上输入宝塔面板的地址，进去会提示安装套件，可以选择Nginx或者Apache。这里我们选择Nginx<p><p><img src=2020-07-10-232039.webp alt><p>这里版本我选择了MySQL 5.7，PHP7.3，phpMyAdmin 4.7，其他的不改变。你们根据自己的云服务器配置去选择一下，或者不选直接点一键安装就好，因为这些都是可以通过宝塔的软件商店进行更新的。<p><p><img src=2020-07-10-232225.webp alt><p>等待安装结束后，你就可以在面板设置上改一下相关的端口（这里要注意，你改的端口要到服务器上的防火墙/安全组，做相应的开放），用户名，密码什么的，这里我就不过多的说了。<p>接下来我们要做的是添加站点，点击面板左边的<strong>网站</strong>，添加站点，在目录上选择git仓库绑定的静态文件目录/home/www/hexo，域名就按要求填上你购买好的域名，域名要记得解析到你服务器上的ip哦。备注随便写，FTP和数据库我们都用不上，所以就不创建了，点击提交。<p><p><img src=2020-07-11-003625.webp alt><p>至此，我们就已经可以通过域名来访问我们的博客了。</div><div class="content-tags ahover"><ul><li><a href=/tags/hexo>#hexo</a><li><a href=/tags/centos>#CentOS</a></ul></div><nav class=post-nav><a class=prev href=/2020/post-8/><i class="fa fa-chevron-left" aria-hidden=true></i>
<span class="prev-text nav-default">重塑个人生活习惯</span>
<span class="prev-text nav-mobile">上一篇</span></a>
<a class=next href=/2020/post-6/><span class="next-text nav-default">在Windows上使用Hexo来搭建一个属于自己的博客</span>
<span class="prev-text nav-mobile">下一篇</span>
<i class="fa fa-chevron-right" aria-hidden=true></i></a></nav><div class=content-footer><script src=//cdn.qylao.com/dist/Waline.min.js></script><div id=waline class=waline-container></div><style>:root{--waline-font-size:1rem;--waline-theme-color:rgba(0,0,0,0.7);--waline-active-color:#202020;--waline-badge-color:rgba(0,0,0,0.3)}.v[data-class=v] .vcard .vhead .vnick svg{display:none}.v[data-class=v] .vpower{display:none}.wl-emoji{width:1rem}</style><script>new Waline({avatarCDN:"https://sdn.geekzu.org/avatar/",dark:'html[data-scheme="dark"]',el:"#waline",emoji:["https://cdn.jsdelivr.net/gh/walinejs/emojis/weibo"],lang:"zh-cn",locale:{admin:"⭐"},placeholder:"在这里分享您的观点与想法，昵称、邮箱必填，邮件通知回复。",requiredMeta:["nick","mail"],serverURL:"https://comments.iamlm.com/",visitor:!0})</script></div></div></div></div><script src=https://cdn.staticfile.org/jquery/3.6.0/jquery.min.js></script>
<script defer src=https://iamlm.com/js/laomai.min.b185718dcc7e0011e0f6e3ca17f13e9492d8ea286c14f7bad0c8a9ba0b6c64741e77b66fab6e45ea4d37c39fe5a787447eb5f0160e70b7be5996d2925768bf9a.js integrity="sha512-sYVxjcx+ABHg9uPKF/E+lJLY6ihsFPe60MipugtsZHQed7Zvq25F6k03w5/lp4dEfrXwFg5wt75ZltKSV2i/mg==" crossorigin=anonymous async></script>